{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/rwankhalifa/Documents/HierarchicalTodoList/client/src/components/todo/MoveTaskModal.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { getTodoLists, createTask } from \"../../services/api\";\nimport \"./Todo.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst MoveTaskModal = ({\n  task,\n  currentListId,\n  onClose,\n  onTaskMoved\n}) => {\n  _s();\n  const [lists, setLists] = useState([]);\n  const [selectedListId, setSelectedListId] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [moving, setMoving] = useState(false);\n  useEffect(() => {\n    const fetchLists = async () => {\n      try {\n        const listsData = await getTodoLists();\n        // Filter out the current list\n        const otherLists = listsData.filter(list => list.id !== currentListId);\n        setLists(otherLists);\n        if (otherLists.length > 0) {\n          setSelectedListId(otherLists[0].id);\n        }\n      } catch (err) {\n        setError(\"Failed to load lists\");\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLists();\n  }, [currentListId]);\n  const handleMove = async () => {\n    if (!selectedListId) return;\n    try {\n      setMoving(true);\n\n      // Create a new task in the target list with the same properties\n      const taskData = {\n        title: task.title,\n        description: task.description || \"\",\n        status: task.status,\n        list_id: selectedListId,\n        parent_id: null // Top-level task in the new list\n      };\n      await createTask(taskData);\n\n      // Notify parent components\n      onTaskMoved(task.id, selectedListId);\n      onClose();\n    } catch (err) {\n      setError(\"Failed to move task. Please try again.\");\n      console.error(err);\n    } finally {\n      setMoving(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Move Task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close-button\",\n          onClick: onClose,\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading lists...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: lists.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No other lists available to move this task to.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"list-select\",\n              children: \"Select destination list:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"list-select\",\n              value: selectedListId || \"\",\n              onChange: e => setSelectedListId(Number(e.target.value)),\n              children: lists.map(list => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: list.id,\n                children: list.title\n              }, list.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"cancel-button\",\n              onClick: onClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"submit-button\",\n              onClick: handleMove,\n              disabled: moving || !selectedListId,\n              children: moving ? \"Moving...\" : \"Move Task\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(MoveTaskModal, \"TH3S3l55HAKXm4orSRzGGYAQ3S4=\");\n_c = MoveTaskModal;\nexport default MoveTaskModal;\nvar _c;\n$RefreshReg$(_c, \"MoveTaskModal\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","getTodoLists","createTask","jsxDEV","_jsxDEV","Fragment","_Fragment","MoveTaskModal","task","currentListId","onClose","onTaskMoved","lists","setLists","selectedListId","setSelectedListId","loading","setLoading","error","setError","moving","setMoving","fetchLists","listsData","otherLists","filter","list","id","length","err","console","handleMove","taskData","title","description","status","list_id","parent_id","className","children","fileName","lineNumber","columnNumber","onClick","htmlFor","value","onChange","e","Number","target","map","disabled","_c","$RefreshReg$"],"sources":["/Users/rwankhalifa/Documents/HierarchicalTodoList/client/src/components/todo/MoveTaskModal.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { getTodoLists, createTask } from \"../../services/api\"\nimport \"./Todo.css\"\n\nconst MoveTaskModal = ({ task, currentListId, onClose, onTaskMoved }) => {\n  const [lists, setLists] = useState([])\n  const [selectedListId, setSelectedListId] = useState(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(null)\n  const [moving, setMoving] = useState(false)\n\n  useEffect(() => {\n    const fetchLists = async () => {\n      try {\n        const listsData = await getTodoLists()\n        // Filter out the current list\n        const otherLists = listsData.filter((list) => list.id !== currentListId)\n        setLists(otherLists)\n        if (otherLists.length > 0) {\n          setSelectedListId(otherLists[0].id)\n        }\n      } catch (err) {\n        setError(\"Failed to load lists\")\n        console.error(err)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchLists()\n  }, [currentListId])\n\n  const handleMove = async () => {\n    if (!selectedListId) return\n\n    try {\n      setMoving(true)\n\n      // Create a new task in the target list with the same properties\n      const taskData = {\n        title: task.title,\n        description: task.description || \"\",\n        status: task.status,\n        list_id: selectedListId,\n        parent_id: null, // Top-level task in the new list\n      }\n\n      await createTask(taskData)\n\n      // Notify parent components\n      onTaskMoved(task.id, selectedListId)\n      onClose()\n    } catch (err) {\n      setError(\"Failed to move task. Please try again.\")\n      console.error(err)\n    } finally {\n      setMoving(false)\n    }\n  }\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-content\">\n        <div className=\"modal-header\">\n          <h3>Move Task</h3>\n          <button className=\"close-button\" onClick={onClose}>\n            Ã—\n          </button>\n        </div>\n\n        {loading ? (\n          <div className=\"loading\">Loading lists...</div>\n        ) : error ? (\n          <div className=\"error-message\">{error}</div>\n        ) : (\n          <>\n            {lists.length === 0 ? (\n              <p>No other lists available to move this task to.</p>\n            ) : (\n              <>\n                <div className=\"form-group\">\n                  <label htmlFor=\"list-select\">Select destination list:</label>\n                  <select\n                    id=\"list-select\"\n                    value={selectedListId || \"\"}\n                    onChange={(e) => setSelectedListId(Number(e.target.value))}\n                  >\n                    {lists.map((list) => (\n                      <option key={list.id} value={list.id}>\n                        {list.title}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div className=\"modal-actions\">\n                  <button className=\"cancel-button\" onClick={onClose}>\n                    Cancel\n                  </button>\n                  <button className=\"submit-button\" onClick={handleMove} disabled={moving || !selectedListId}>\n                    {moving ? \"Moving...\" : \"Move Task\"}\n                  </button>\n                </div>\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default MoveTaskModal;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}