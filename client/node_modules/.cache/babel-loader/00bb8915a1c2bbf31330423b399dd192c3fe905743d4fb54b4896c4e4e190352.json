{"ast":null,"code":"// src/services/api.js\nimport axios from 'axios';\n\n// Or on a per-request basis:\nconst response = await axios.get('http://127.0.0.1:5000/api/todos/lists', {\n  withCredentials: true\n});\n\n// Use .env or default localhost\nconst API_URL = process.env.REACT_APP_API_URL || 'http://127.0.0.1:5000';\n\n// Create a new TodoList\nexport const createTodoList = async title => {\n  const response = await axios.post(`${API_URL}/api/todos/list`, {\n    title\n  });\n  return response.data;\n};\n\n// Get all TodoLists for the current user\nexport const getTodoLists = async () => {\n  const response = await axios.get(`${API_URL}/api/todos/lists`);\n  return response.data; // array of {id, title}\n};\n\n// Create a new Task or subtask\nexport const addTask = async (title, description, status, listId, parentId) => {\n  const response = await axios.post(`${API_URL}/api/todos/task`, {\n    title,\n    description,\n    status,\n    list_id: listId,\n    parent_id: parentId\n  });\n  return response.data;\n};\n\n// Get tasks (with subtasks) for a given list\nexport const getTasksForList = async listId => {\n  const response = await axios.get(`${API_URL}/api/todos/tasks/${listId}`);\n  return response.data; // top-level tasks + subtasks\n};\n\n// Update task status\nexport const updateTaskStatus = async (taskId, newStatus) => {\n  const response = await axios.patch(`${API_URL}/api/todos/task/${taskId}/status`, {\n    status: newStatus\n  });\n  return response.data;\n};\n\n/**\n * Log in a user.\n * Calls POST /api/auth/login\n * Body: { username, password }\n */\nexport const loginUser = async (username, password) => {\n  const response = await axios.post(`${API_URL}/api/auth/login`, {\n    username,\n    password\n  });\n  return response.data;\n};\n\n/**\n * Register a new user.\n * Calls POST /api/auth/register\n * Body: { username, password }\n */\nexport const registerUser = async (username, password) => {\n  const response = await axios.post(`${API_URL}/api/auth/register`, {\n    username,\n    password\n  });\n  return response.data;\n};","map":{"version":3,"names":["axios","response","get","withCredentials","API_URL","process","env","REACT_APP_API_URL","createTodoList","title","post","data","getTodoLists","addTask","description","status","listId","parentId","list_id","parent_id","getTasksForList","updateTaskStatus","taskId","newStatus","patch","loginUser","username","password","registerUser"],"sources":["/Users/rwankhalifa/Documents/HierarchicalTodoList/client/src/services/api.js"],"sourcesContent":["// src/services/api.js\nimport axios from 'axios';\n\n// Or on a per-request basis:\nconst response = await axios.get('http://127.0.0.1:5000/api/todos/lists', {\n  withCredentials: true\n});\n\n// Use .env or default localhost\nconst API_URL = process.env.REACT_APP_API_URL || 'http://127.0.0.1:5000';\n\n// Create a new TodoList\nexport const createTodoList = async (title) => {\n  const response = await axios.post(`${API_URL}/api/todos/list`, { title });\n  return response.data;\n};\n\n// Get all TodoLists for the current user\nexport const getTodoLists = async () => {\n  const response = await axios.get(`${API_URL}/api/todos/lists`);\n  return response.data; // array of {id, title}\n};\n\n// Create a new Task or subtask\nexport const addTask = async (title, description, status, listId, parentId) => {\n  const response = await axios.post(`${API_URL}/api/todos/task`, {\n    title,\n    description,\n    status,\n    list_id: listId,\n    parent_id: parentId,\n  });\n  return response.data;\n};\n\n// Get tasks (with subtasks) for a given list\nexport const getTasksForList = async (listId) => {\n  const response = await axios.get(`${API_URL}/api/todos/tasks/${listId}`);\n  return response.data; // top-level tasks + subtasks\n};\n\n// Update task status\nexport const updateTaskStatus = async (taskId, newStatus) => {\n  const response = await axios.patch(`${API_URL}/api/todos/task/${taskId}/status`, {\n    status: newStatus,\n  });\n  return response.data;\n};\n\n\n/**\n * Log in a user.\n * Calls POST /api/auth/login\n * Body: { username, password }\n */\nexport const loginUser = async (username, password) => {\n    const response = await axios.post(`${API_URL}/api/auth/login`, {\n      username,\n      password,\n    });\n    return response.data;\n  };\n  \n  /**\n   * Register a new user.\n   * Calls POST /api/auth/register\n   * Body: { username, password }\n   */\n  export const registerUser = async (username, password) => {\n    const response = await axios.post(`${API_URL}/api/auth/register`, {\n      username,\n      password,\n    });\n    return response.data;\n  };\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,QAAQ,GAAG,MAAMD,KAAK,CAACE,GAAG,CAAC,uCAAuC,EAAE;EACxEC,eAAe,EAAE;AACnB,CAAC,CAAC;;AAEF;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;;AAExE;AACA,OAAO,MAAMC,cAAc,GAAG,MAAOC,KAAK,IAAK;EAC7C,MAAMR,QAAQ,GAAG,MAAMD,KAAK,CAACU,IAAI,CAAC,GAAGN,OAAO,iBAAiB,EAAE;IAAEK;EAAM,CAAC,CAAC;EACzE,OAAOR,QAAQ,CAACU,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;EACtC,MAAMX,QAAQ,GAAG,MAAMD,KAAK,CAACE,GAAG,CAAC,GAAGE,OAAO,kBAAkB,CAAC;EAC9D,OAAOH,QAAQ,CAACU,IAAI,CAAC,CAAC;AACxB,CAAC;;AAED;AACA,OAAO,MAAME,OAAO,GAAG,MAAAA,CAAOJ,KAAK,EAAEK,WAAW,EAAEC,MAAM,EAAEC,MAAM,EAAEC,QAAQ,KAAK;EAC7E,MAAMhB,QAAQ,GAAG,MAAMD,KAAK,CAACU,IAAI,CAAC,GAAGN,OAAO,iBAAiB,EAAE;IAC7DK,KAAK;IACLK,WAAW;IACXC,MAAM;IACNG,OAAO,EAAEF,MAAM;IACfG,SAAS,EAAEF;EACb,CAAC,CAAC;EACF,OAAOhB,QAAQ,CAACU,IAAI;AACtB,CAAC;;AAED;AACA,OAAO,MAAMS,eAAe,GAAG,MAAOJ,MAAM,IAAK;EAC/C,MAAMf,QAAQ,GAAG,MAAMD,KAAK,CAACE,GAAG,CAAC,GAAGE,OAAO,oBAAoBY,MAAM,EAAE,CAAC;EACxE,OAAOf,QAAQ,CAACU,IAAI,CAAC,CAAC;AACxB,CAAC;;AAED;AACA,OAAO,MAAMU,gBAAgB,GAAG,MAAAA,CAAOC,MAAM,EAAEC,SAAS,KAAK;EAC3D,MAAMtB,QAAQ,GAAG,MAAMD,KAAK,CAACwB,KAAK,CAAC,GAAGpB,OAAO,mBAAmBkB,MAAM,SAAS,EAAE;IAC/EP,MAAM,EAAEQ;EACV,CAAC,CAAC;EACF,OAAOtB,QAAQ,CAACU,IAAI;AACtB,CAAC;;AAGD;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMc,SAAS,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACnD,MAAM1B,QAAQ,GAAG,MAAMD,KAAK,CAACU,IAAI,CAAC,GAAGN,OAAO,iBAAiB,EAAE;IAC7DsB,QAAQ;IACRC;EACF,CAAC,CAAC;EACF,OAAO1B,QAAQ,CAACU,IAAI;AACtB,CAAC;;AAED;AACF;AACA;AACA;AACA;AACE,OAAO,MAAMiB,YAAY,GAAG,MAAAA,CAAOF,QAAQ,EAAEC,QAAQ,KAAK;EACxD,MAAM1B,QAAQ,GAAG,MAAMD,KAAK,CAACU,IAAI,CAAC,GAAGN,OAAO,oBAAoB,EAAE;IAChEsB,QAAQ;IACRC;EACF,CAAC,CAAC;EACF,OAAO1B,QAAQ,CAACU,IAAI;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}