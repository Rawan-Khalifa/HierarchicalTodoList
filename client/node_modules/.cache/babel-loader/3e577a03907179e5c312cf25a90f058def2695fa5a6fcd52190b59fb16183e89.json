{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"/Users/rwankhalifa/Documents/HierarchicalTodoList/client/src/components/TodoList.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useCallback, useRef } from \"react\";\nimport { Plus, Loader } from \"lucide-react\";\nimport TaskItem from \"./TaskItem\";\nimport CreateTaskModal from \"./CreateTaskModal\";\nimport MoveTaskModal from \"./MoveTaskModal\";\nimport api from \"../services/api\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./TodoList.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TodoList = ({\n  list,\n  lists\n}) => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showMoveModal, setShowMoveModal] = useState(false);\n  const [selectedTask, setSelectedTask] = useState(null);\n  const [parentTaskId, setParentTaskId] = useState(null);\n  const [parentTaskTitle, setParentTaskTitle] = useState(\"\");\n  const [completedTasksCount, setCompletedTasksCount] = useState(0);\n  const [totalTasksCount, setTotalTasksCount] = useState(0);\n\n  // Use a ref to track if an update is in progress\n  const statusUpdateInProgress = useRef({});\n  // Use a ref to track if component is mounted\n  const isMounted = useRef(true);\n\n  // Set isMounted to false when component unmounts\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  // Helper function to count tasks and completed tasks\n  const countTasksAndCompleted = useCallback(taskList => {\n    let total = 0;\n    let completed = 0;\n    const countRecursive = items => {\n      for (const item of items) {\n        total++;\n        if (item.status === \"Done\") completed++;\n        if (item.subtasks && item.subtasks.length > 0) {\n          countRecursive(item.subtasks);\n        }\n      }\n    };\n    countRecursive(taskList);\n    return {\n      total,\n      completed\n    };\n  }, []);\n\n  // Helper function to update progress stats\n  const updateProgressStats = useCallback(taskList => {\n    const {\n      total,\n      completed\n    } = countTasksAndCompleted(taskList);\n    setTotalTasksCount(total);\n    setCompletedTasksCount(completed);\n    console.log(`Progress updated: ${completed}/${total} tasks completed (${Math.round(completed / total * 100)}%)`);\n  }, [countTasksAndCompleted]);\n\n  // Memoize fetchTasks to prevent infinite loops\n  const fetchTasks = useCallback(async () => {\n    if (!list || !list.id) return;\n    try {\n      setLoading(true);\n      const response = await api.get(`/api/todos/tasks/${list.id}`);\n      if (!isMounted.current) return;\n\n      // Map backend response to our frontend structure\n      const mappedTasks = response.data.map(task => ({\n        id: task.id,\n        title: task.title,\n        description: task.description || \"\",\n        status: task.status,\n        subtasks: task.subtasks || []\n      }));\n      setTasks(mappedTasks);\n\n      // Update progress stats\n      updateProgressStats(mappedTasks);\n    } catch (error) {\n      console.error(\"Failed to fetch tasks:\", error);\n      if (isMounted.current) {\n        toast.error(\"Failed to load tasks\");\n      }\n    } finally {\n      if (isMounted.current) {\n        setLoading(false);\n      }\n    }\n  }, [list, updateProgressStats]);\n  useEffect(() => {\n    if (list && list.id) {\n      fetchTasks();\n    }\n\n    // Clear the status update tracking when list changes\n    return () => {\n      statusUpdateInProgress.current = {};\n    };\n  }, [list, fetchTasks]);\n  const handleCreateTask = async taskData => {\n    try {\n      const payload = {\n        title: taskData.title,\n        description: taskData.description || \"\",\n        status: \"Todo\",\n        list_id: list.id,\n        parent_id: parentTaskId\n      };\n\n      // If we're adding a subtask to a completed parent, we need to update the parent status\n      if (parentTaskId) {\n        // Find the parent task\n        const findParentTask = (taskList, parentId) => {\n          for (const task of taskList) {\n            if (task.id === parentId) {\n              return task;\n            }\n            if (task.subtasks && task.subtasks.length > 0) {\n              const found = findParentTask(task.subtasks, parentId);\n              if (found) return found;\n            }\n          }\n          return null;\n        };\n        const parentTask = findParentTask(tasks, parentTaskId);\n\n        // If parent is marked as done, update its status to Todo\n        if (parentTask && parentTask.status === \"Done\") {\n          await api.patch(`/api/todos/task/${parentTaskId}/status`, {\n            status: \"Todo\"\n          });\n          toast.info(\"Parent task reopened because a new subtask was added\");\n        }\n      }\n      await api.post(\"/api/todos/task\", payload);\n      if (isMounted.current) {\n        toast.success(`${parentTaskId ? \"Subtask\" : \"Task\"} created successfully`);\n        fetchTasks(); // This will update the progress bar as well\n      }\n      return true;\n    } catch (error) {\n      console.error(\"Failed to create task:\", error);\n      if (isMounted.current) {\n        var _error$response, _error$response$data;\n        toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || \"Failed to create task\");\n      }\n      throw error;\n    }\n  };\n  const handleStatusChange = useCallback((taskId, newStatus) => {\n    // Prevent duplicate updates for the same task\n    if (statusUpdateInProgress.current[taskId]) return;\n\n    // Mark this task as being updated\n    statusUpdateInProgress.current[taskId] = true;\n\n    // Update the task status in the local state\n    if (isMounted.current) {\n      setTasks(prevTasks => {\n        const updateTaskStatus = taskList => {\n          return taskList.map(task => {\n            if (task.id === taskId) {\n              return {\n                ...task,\n                status: newStatus\n              };\n            }\n            if (task.subtasks && task.subtasks.length > 0) {\n              const updatedSubtasks = updateTaskStatus(task.subtasks);\n\n              // Check if all subtasks are now completed\n              const allSubtasksDone = updatedSubtasks.every(st => st.status === \"Done\");\n\n              // If all subtasks are done and parent isn't done yet, update parent\n              if (allSubtasksDone && task.status !== \"Done\") {\n                // Only update if we're not already updating this task\n                if (!statusUpdateInProgress.current[task.id]) {\n                  statusUpdateInProgress.current[task.id] = true;\n\n                  // Update parent task status on the server\n                  updateParentTaskStatus(task.id, \"Done\");\n                  return {\n                    ...task,\n                    subtasks: updatedSubtasks,\n                    status: \"Done\"\n                  };\n                }\n              }\n              return {\n                ...task,\n                subtasks: updatedSubtasks\n              };\n            }\n            return task;\n          });\n        };\n        const updatedTasks = updateTaskStatus(prevTasks);\n\n        // Update progress stats with the updated tasks\n        updateProgressStats(updatedTasks);\n        return updatedTasks;\n      });\n    }\n\n    // Clear the update flag after a delay\n    setTimeout(() => {\n      statusUpdateInProgress.current[taskId] = false;\n    }, 500);\n  }, [updateProgressStats]);\n\n  // Helper function to update parent task status on the server\n  const updateParentTaskStatus = async (taskId, status) => {\n    try {\n      await api.patch(`/api/todos/task/${taskId}/status`, {\n        status\n      });\n\n      // Clear the update flag after a delay\n      setTimeout(() => {\n        statusUpdateInProgress.current[taskId] = false;\n      }, 500);\n    } catch (error) {\n      console.error(\"Failed to update parent task status:\", error);\n      statusUpdateInProgress.current[taskId] = false;\n    }\n  };\n  const handleCreateSubtask = (parentId, parentTitle) => {\n    setParentTaskId(parentId);\n    setParentTaskTitle(parentTitle);\n    setShowCreateModal(true);\n  };\n  const handleMoveTask = task => {\n    setSelectedTask(task);\n    setShowMoveModal(true);\n  };\n  const getMotivationalQuote = () => {\n    const quotes = [\"The secret of getting ahead is getting started.\", \"Don't wait. The time will never be just right.\", \"Start where you are. Use what you have. Do what you can.\", \"The beginning is always the hardest. Keep going!\", \"Small progress is still progress.\"];\n    return quotes[Math.floor(Math.random() * quotes.length)];\n  };\n  const calculateProgress = () => {\n    if (totalTasksCount === 0) return 0;\n    return completedTasksCount / totalTasksCount * 100;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"todo-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"todo-list-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"todo-list-title\",\n        children: (list === null || list === void 0 ? void 0 : list.title) || \"Tasks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button primary\",\n        onClick: () => {\n          setParentTaskId(null);\n          setParentTaskTitle(\"\");\n          setShowCreateModal(true);\n        },\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Add Task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), totalTasksCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [completedTasksCount, \" of \", totalTasksCount, \" tasks completed\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [Math.round(calculateProgress()), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar-fill\",\n          style: {\n            width: `${calculateProgress()}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: /*#__PURE__*/_jsxDEV(Loader, {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }, this) : tasks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-tasks\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No tasks yet. Create your first task to get started!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button primary\",\n        onClick: () => {\n          setParentTaskId(null);\n          setParentTaskTitle(\"\");\n          setShowCreateModal(true);\n        },\n        children: [/*#__PURE__*/_jsxDEV(Plus, {\n          size: 16\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Create Task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"motivational-quote\",\n        children: getMotivationalQuote()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tasks-container\",\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(TaskItem, {\n        task: task,\n        onStatusChange: handleStatusChange,\n        onCreateSubtask: handleCreateSubtask,\n        depth: 0,\n        fetchTasks: fetchTasks,\n        listId: list.id,\n        onMoveTask: handleMoveTask\n      }, task.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(CreateTaskModal, {\n      isOpen: showCreateModal,\n      onClose: () => {\n        setShowCreateModal(false);\n        setParentTaskId(null);\n        setParentTaskTitle(\"\");\n      },\n      onCreate: handleCreateTask,\n      isSubtask: !!parentTaskId,\n      parentTaskTitle: parentTaskTitle,\n      listId: list.id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 7\n    }, this), selectedTask && /*#__PURE__*/_jsxDEV(MoveTaskModal, {\n      isOpen: showMoveModal,\n      onClose: () => {\n        setShowMoveModal(false);\n        setSelectedTask(null);\n      },\n      lists: lists,\n      currentListId: list.id,\n      taskTitle: selectedTask.title,\n      task: selectedTask,\n      fetchTasks: fetchTasks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 5\n  }, this);\n};\n_s(TodoList, \"QaXeIFnGl6B9zS/wyh0w4fMqiKI=\");\n_c = TodoList;\nexport default TodoList;\nvar _c;\n$RefreshReg$(_c, \"TodoList\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","useCallback","useRef","Plus","Loader","TaskItem","CreateTaskModal","MoveTaskModal","api","toast","jsxDEV","_jsxDEV","TodoList","list","lists","tasks","setTasks","loading","setLoading","showCreateModal","setShowCreateModal","showMoveModal","setShowMoveModal","selectedTask","setSelectedTask","parentTaskId","setParentTaskId","parentTaskTitle","setParentTaskTitle","completedTasksCount","setCompletedTasksCount","totalTasksCount","setTotalTasksCount","statusUpdateInProgress","isMounted","current","countTasksAndCompleted","taskList","total","completed","countRecursive","items","item","status","subtasks","length","updateProgressStats","console","log","Math","round","fetchTasks","id","response","get","mappedTasks","data","map","task","title","description","error","handleCreateTask","taskData","payload","list_id","parent_id","findParentTask","parentId","found","parentTask","patch","info","post","success","_error$response","_error$response$data","handleStatusChange","taskId","newStatus","prevTasks","updateTaskStatus","updatedSubtasks","allSubtasksDone","every","st","updateParentTaskStatus","updatedTasks","setTimeout","handleCreateSubtask","parentTitle","handleMoveTask","getMotivationalQuote","quotes","floor","random","calculateProgress","className","children","fileName","lineNumber","columnNumber","onClick","size","style","width","onStatusChange","onCreateSubtask","depth","listId","onMoveTask","isOpen","onClose","onCreate","isSubtask","currentListId","taskTitle","_c","$RefreshReg$"],"sources":["/Users/rwankhalifa/Documents/HierarchicalTodoList/client/src/components/TodoList.js"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback, useRef } from \"react\"\nimport { Plus, Loader } from \"lucide-react\"\nimport TaskItem from \"./TaskItem\"\nimport CreateTaskModal from \"./CreateTaskModal\"\nimport MoveTaskModal from \"./MoveTaskModal\"\nimport api from \"../services/api\"\nimport { toast } from \"react-toastify\"\nimport \"react-toastify/dist/ReactToastify.css\"\nimport \"./TodoList.css\"\n\nconst TodoList = ({ list, lists }) => {\n  const [tasks, setTasks] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [showCreateModal, setShowCreateModal] = useState(false)\n  const [showMoveModal, setShowMoveModal] = useState(false)\n  const [selectedTask, setSelectedTask] = useState(null)\n  const [parentTaskId, setParentTaskId] = useState(null)\n  const [parentTaskTitle, setParentTaskTitle] = useState(\"\")\n  const [completedTasksCount, setCompletedTasksCount] = useState(0)\n  const [totalTasksCount, setTotalTasksCount] = useState(0)\n\n  // Use a ref to track if an update is in progress\n  const statusUpdateInProgress = useRef({})\n  // Use a ref to track if component is mounted\n  const isMounted = useRef(true)\n\n  // Set isMounted to false when component unmounts\n  useEffect(() => {\n    isMounted.current = true\n    return () => {\n      isMounted.current = false\n    }\n  }, [])\n\n  // Helper function to count tasks and completed tasks\n  const countTasksAndCompleted = useCallback((taskList) => {\n    let total = 0\n    let completed = 0\n\n    const countRecursive = (items) => {\n      for (const item of items) {\n        total++\n        if (item.status === \"Done\") completed++\n\n        if (item.subtasks && item.subtasks.length > 0) {\n          countRecursive(item.subtasks)\n        }\n      }\n    }\n\n    countRecursive(taskList)\n    return { total, completed }\n  }, [])\n\n  // Helper function to update progress stats\n  const updateProgressStats = useCallback(\n    (taskList) => {\n      const { total, completed } = countTasksAndCompleted(taskList)\n      setTotalTasksCount(total)\n      setCompletedTasksCount(completed)\n      console.log(`Progress updated: ${completed}/${total} tasks completed (${Math.round((completed / total) * 100)}%)`)\n    },\n    [countTasksAndCompleted],\n  )\n\n  // Memoize fetchTasks to prevent infinite loops\n  const fetchTasks = useCallback(async () => {\n    if (!list || !list.id) return\n\n    try {\n      setLoading(true)\n      const response = await api.get(`/api/todos/tasks/${list.id}`)\n\n      if (!isMounted.current) return\n\n      // Map backend response to our frontend structure\n      const mappedTasks = response.data.map((task) => ({\n        id: task.id,\n        title: task.title,\n        description: task.description || \"\",\n        status: task.status,\n        subtasks: task.subtasks || [],\n      }))\n\n      setTasks(mappedTasks)\n\n      // Update progress stats\n      updateProgressStats(mappedTasks)\n    } catch (error) {\n      console.error(\"Failed to fetch tasks:\", error)\n      if (isMounted.current) {\n        toast.error(\"Failed to load tasks\")\n      }\n    } finally {\n      if (isMounted.current) {\n        setLoading(false)\n      }\n    }\n  }, [list, updateProgressStats])\n\n  useEffect(() => {\n    if (list && list.id) {\n      fetchTasks()\n    }\n\n    // Clear the status update tracking when list changes\n    return () => {\n      statusUpdateInProgress.current = {}\n    }\n  }, [list, fetchTasks])\n\n  const handleCreateTask = async (taskData) => {\n    try {\n      const payload = {\n        title: taskData.title,\n        description: taskData.description || \"\",\n        status: \"Todo\",\n        list_id: list.id,\n        parent_id: parentTaskId,\n      }\n\n      // If we're adding a subtask to a completed parent, we need to update the parent status\n      if (parentTaskId) {\n        // Find the parent task\n        const findParentTask = (taskList, parentId) => {\n          for (const task of taskList) {\n            if (task.id === parentId) {\n              return task\n            }\n            if (task.subtasks && task.subtasks.length > 0) {\n              const found = findParentTask(task.subtasks, parentId)\n              if (found) return found\n            }\n          }\n          return null\n        }\n\n        const parentTask = findParentTask(tasks, parentTaskId)\n\n        // If parent is marked as done, update its status to Todo\n        if (parentTask && parentTask.status === \"Done\") {\n          await api.patch(`/api/todos/task/${parentTaskId}/status`, { status: \"Todo\" })\n          toast.info(\"Parent task reopened because a new subtask was added\")\n        }\n      }\n\n      await api.post(\"/api/todos/task\", payload)\n      if (isMounted.current) {\n        toast.success(`${parentTaskId ? \"Subtask\" : \"Task\"} created successfully`)\n        fetchTasks() // This will update the progress bar as well\n      }\n      return true\n    } catch (error) {\n      console.error(\"Failed to create task:\", error)\n      if (isMounted.current) {\n        toast.error(error.response?.data?.error || \"Failed to create task\")\n      }\n      throw error\n    }\n  }\n\n  const handleStatusChange = useCallback(\n    (taskId, newStatus) => {\n      // Prevent duplicate updates for the same task\n      if (statusUpdateInProgress.current[taskId]) return\n\n      // Mark this task as being updated\n      statusUpdateInProgress.current[taskId] = true\n\n      // Update the task status in the local state\n      if (isMounted.current) {\n        setTasks((prevTasks) => {\n          const updateTaskStatus = (taskList) => {\n            return taskList.map((task) => {\n              if (task.id === taskId) {\n                return { ...task, status: newStatus }\n              }\n\n              if (task.subtasks && task.subtasks.length > 0) {\n                const updatedSubtasks = updateTaskStatus(task.subtasks)\n\n                // Check if all subtasks are now completed\n                const allSubtasksDone = updatedSubtasks.every((st) => st.status === \"Done\")\n\n                // If all subtasks are done and parent isn't done yet, update parent\n                if (allSubtasksDone && task.status !== \"Done\") {\n                  // Only update if we're not already updating this task\n                  if (!statusUpdateInProgress.current[task.id]) {\n                    statusUpdateInProgress.current[task.id] = true\n\n                    // Update parent task status on the server\n                    updateParentTaskStatus(task.id, \"Done\")\n\n                    return {\n                      ...task,\n                      subtasks: updatedSubtasks,\n                      status: \"Done\",\n                    }\n                  }\n                }\n\n                return {\n                  ...task,\n                  subtasks: updatedSubtasks,\n                }\n              }\n\n              return task\n            })\n          }\n\n          const updatedTasks = updateTaskStatus(prevTasks)\n\n          // Update progress stats with the updated tasks\n          updateProgressStats(updatedTasks)\n\n          return updatedTasks\n        })\n      }\n\n      // Clear the update flag after a delay\n      setTimeout(() => {\n        statusUpdateInProgress.current[taskId] = false\n      }, 500)\n    },\n    [updateProgressStats],\n  )\n\n  // Helper function to update parent task status on the server\n  const updateParentTaskStatus = async (taskId, status) => {\n    try {\n      await api.patch(`/api/todos/task/${taskId}/status`, { status })\n\n      // Clear the update flag after a delay\n      setTimeout(() => {\n        statusUpdateInProgress.current[taskId] = false\n      }, 500)\n    } catch (error) {\n      console.error(\"Failed to update parent task status:\", error)\n      statusUpdateInProgress.current[taskId] = false\n    }\n  }\n\n  const handleCreateSubtask = (parentId, parentTitle) => {\n    setParentTaskId(parentId)\n    setParentTaskTitle(parentTitle)\n    setShowCreateModal(true)\n  }\n\n  const handleMoveTask = (task) => {\n    setSelectedTask(task)\n    setShowMoveModal(true)\n  }\n\n  const getMotivationalQuote = () => {\n    const quotes = [\n      \"The secret of getting ahead is getting started.\",\n      \"Don't wait. The time will never be just right.\",\n      \"Start where you are. Use what you have. Do what you can.\",\n      \"The beginning is always the hardest. Keep going!\",\n      \"Small progress is still progress.\",\n    ]\n\n    return quotes[Math.floor(Math.random() * quotes.length)]\n  }\n\n  const calculateProgress = () => {\n    if (totalTasksCount === 0) return 0\n    return (completedTasksCount / totalTasksCount) * 100\n  }\n\n  return (\n    <div className=\"todo-list\">\n      <div className=\"todo-list-header\">\n        <h2 className=\"todo-list-title\">{list?.title || \"Tasks\"}</h2>\n        <button\n          className=\"button primary\"\n          onClick={() => {\n            setParentTaskId(null)\n            setParentTaskTitle(\"\")\n            setShowCreateModal(true)\n          }}\n        >\n          <Plus size={16} />\n          <span>Add Task</span>\n        </button>\n      </div>\n\n      {totalTasksCount > 0 && (\n        <div className=\"progress-container\">\n          <div className=\"progress-info\">\n            <span>\n              {completedTasksCount} of {totalTasksCount} tasks completed\n            </span>\n            <span>{Math.round(calculateProgress())}%</span>\n          </div>\n          <div className=\"progress-bar-container\">\n            <div className=\"progress-bar-fill\" style={{ width: `${calculateProgress()}%` }}></div>\n          </div>\n        </div>\n      )}\n\n      {loading ? (\n        <div className=\"loading-container\">\n          <Loader className=\"loading-spinner\" />\n        </div>\n      ) : tasks.length === 0 ? (\n        <div className=\"empty-tasks\">\n          <p>No tasks yet. Create your first task to get started!</p>\n          <button\n            className=\"button primary\"\n            onClick={() => {\n              setParentTaskId(null)\n              setParentTaskTitle(\"\")\n              setShowCreateModal(true)\n            }}\n          >\n            <Plus size={16} />\n            <span>Create Task</span>\n          </button>\n          <p className=\"motivational-quote\">{getMotivationalQuote()}</p>\n        </div>\n      ) : (\n        <div className=\"tasks-container\">\n          {tasks.map((task) => (\n            <TaskItem\n              key={task.id}\n              task={task}\n              onStatusChange={handleStatusChange}\n              onCreateSubtask={handleCreateSubtask}\n              depth={0}\n              fetchTasks={fetchTasks}\n              listId={list.id}\n              onMoveTask={handleMoveTask}\n            />\n          ))}\n        </div>\n      )}\n\n      <CreateTaskModal\n        isOpen={showCreateModal}\n        onClose={() => {\n          setShowCreateModal(false)\n          setParentTaskId(null)\n          setParentTaskTitle(\"\")\n        }}\n        onCreate={handleCreateTask}\n        isSubtask={!!parentTaskId}\n        parentTaskTitle={parentTaskTitle}\n        listId={list.id}\n      />\n\n      {selectedTask && (\n        <MoveTaskModal\n          isOpen={showMoveModal}\n          onClose={() => {\n            setShowMoveModal(false)\n            setSelectedTask(null)\n          }}\n          lists={lists}\n          currentListId={list.id}\n          taskTitle={selectedTask.title}\n          task={selectedTask}\n          fetchTasks={fetchTasks}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default TodoList;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}